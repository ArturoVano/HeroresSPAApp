"use strict";(self.webpackChunkheroesW2M=self.webpackChunkheroesW2M||[]).push([[189],{5189:(Y,d,e)=>{e.r(d),e.d(d,{AuthModule:()=>$});var h=e(6814),m=e(8184),f=e(8645),p=e(5619),g=e(9773),v=e(2181),b=e(4664),Z=e(6328),y=e(2096),x=e(9397),u=e(6555),o=e(6223),t=e(5879),A=e(4567),C=e(3712),U=e(617),l=e(9157),F=e(8525),M=e(3680),T=e(2032);function O(n,N){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const r=N.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r," ")}}let S=(()=>{class n{constructor(r,a,s,c){this.authService=r,this.router=a,this.fb=s,this.snackbarService=c,this.destroyed$=new f.x,this.userForm=this.fb.group({username:["",[o.kI.required,o.kI.minLength(3)]],email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.minLength(6)]],preference:["",o.kI.required]}),this.formSubmited$=new p.X(void 0),this.authUser$=this.formSubmited$.pipe((0,g.R)(this.destroyed$),(0,v.h)(()=>this.userForm.valid),(0,b.w)(()=>this.authService.login(this.userForm.get("email").value,this.userForm.get("password").value)),(0,Z.b)(i=>i?(0,y.of)(i):this.authService.register(this.formToUser())),(0,x.b)(()=>this.router.navigate(["/heroes"]))),this.aligments=[u.v.GOOD,u.v.BAD]}ngOnInit(){this.authUser$.subscribe()}onSubmit(r){this.userForm.valid?this.formSubmited$.next(r):this.snackbarService.showMessage("Invalid form, prealse review the fields",!0)}autoFill(){this.userForm.reset({username:"RandomUser",email:"random@example.com",password:"123456",preference:u.v.GOOD})}formToUser(){return{username:this.userForm.get("username")?.value||"",email:this.userForm.get("email")?.value||"",password:this.userForm.get("password")?.value||"",preference:this.userForm.get("preference")?.value||void 0}}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(A.e),t.Y36(m.F0),t.Y36(o.qu),t.Y36(C.o))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login-form"]],decls:35,vars:2,consts:[[1,"container"],["color","primary",1,"flex-1","text-center","text-xl","mb-5","light-dark"],[1,"title"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width"],["matInput","","type","text","placeholder","Enter your username","required","","formControlName","username","name","username"],["matSuffix",""],["matInput","","type","email","placeholder","Enter your email","required","","formControlName","email","name","email"],["matInput","","type","password","placeholder","Enter your password","required","","formControlName","password","name","password"],["formControlName","preference","name","moralAlignment","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"buttons"],["type","submit",1,"button","primary"],["type","button",1,"button","accent",3,"click"],[3,"value"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3,"Login / Register"),t.qZA()(),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(i){return s.onSubmit(i)}),t.TgZ(5,"mat-form-field",4)(6,"mat-label"),t._uU(7,"Username"),t.qZA(),t._UZ(8,"input",5),t.TgZ(9,"mat-icon",6),t._uU(10,"person"),t.qZA()(),t.TgZ(11,"mat-form-field",4)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",7),t.TgZ(15,"mat-icon",6),t._uU(16,"email"),t.qZA()(),t.TgZ(17,"mat-form-field",4)(18,"mat-label"),t._uU(19,"Password"),t.qZA(),t._UZ(20,"input",8),t.TgZ(21,"mat-icon",6),t._uU(22,"lock"),t.qZA()(),t.TgZ(23,"mat-form-field",4)(24,"mat-label"),t._uU(25,"Moral Alignment"),t.qZA(),t.TgZ(26,"mat-select",9),t.YNc(27,O,2,2,"mat-option",10),t.qZA(),t.TgZ(28,"mat-icon",6),t._uU(29,"category"),t.qZA()(),t.TgZ(30,"div",11)(31,"button",12),t._uU(32," Log in "),t.qZA(),t.TgZ(33,"button",13),t.NdJ("click",function(){return s.autoFill()}),t._uU(34," Auto Complete "),t.qZA()()()()),2&a&&(t.xp6(4),t.Q6J("formGroup",s.userForm),t.xp6(23),t.Q6J("ngForOf",s.aligments))},dependencies:[h.sg,U.Hw,l.KE,l.hX,l.R9,F.gD,M.ey,T.Nt,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:[".container[_ngcontent-%COMP%]{width:400px;margin:100px auto;padding:20px;box-shadow:0 4px 6px #0000001a;border-radius:8px;background:white}.title[_ngcontent-%COMP%]{color:#000}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button.button[_ngcontent-%COMP%]{width:48%;border:none;border-radius:8px;padding:12px;color:#fff;font-size:16px;cursor:pointer;transition:transform .2s,box-shadow .2s}button.button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #0003}button.button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:none}button.button.primary[_ngcontent-%COMP%]{background-color:#4caf50}button.button.primary[_ngcontent-%COMP%]:hover{background-color:#45a049}button.button.accent[_ngcontent-%COMP%]{background-color:#21cfff}button.button.accent[_ngcontent-%COMP%]:hover{background-color:#22b2ff}"]})}return n})();const P=[{path:"**",component:e(7216).o,children:[{path:"",component:S}]}];let w=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(P),m.Bz]})}return n})();var J=e(8571);let $=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[h.ez,w,J.q,o.u5,o.UX]})}return n})()}}]);